(this["webpackJsonpit-social"]=this["webpackJsonpit-social"]||[]).push([[3],{310:function(e,s,a){"use strict";var t=a(1),r=(a(2),a(14)),i=a(8),o=a(15),n=a(0),c=function(e){return{isLoggedIn:Object(o.d)(e)}},g={};s.a=function(e){return Object(i.b)(c,g)((function(s){return s.isLoggedIn?Object(n.jsx)(e,Object(t.a)({},s)):Object(n.jsx)(r.a,{to:"/login"})}))}},312:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__etPsl",messages__inner:"Dialogs_messages__inner__1-dbS"}},313:function(e,s,a){e.exports={message:"Message_message__TUbjs",outgoing:"Message_outgoing__3e6a5",userPhoto:"Message_userPhoto__2IJ7h",message__data:"Message_message__data__F1XXE",message__author:"Message_message__author__1Qj2E",message__text:"Message_message__text__2SPNz",message__date:"Message_message__date__BILWO"}},314:function(e,s,a){e.exports={message__container:"MessageList_message__container__TjAMP"}},315:function(e,s,a){e.exports={dialogs__inner:"AddresseeList_dialogs__inner__1-orJ"}},316:function(e,s,a){e.exports={dialogsitem__title:"Addressee_dialogsitem__title__3Onpr",checked:"Addressee_checked__1qkC7"}},323:function(e,s,a){"use strict";a.r(s);var t=a(30),r=a(312),i=a.n(r),o=a(138),n=a(8),c=a(9),g=a(15),l=a(25),u=a(313),d=a.n(u),_=a(71),m=a(16),j=a(0),b=function(e){return e.fromCurrentUser?Object(j.jsxs)("div",{className:d.a.message+" "+d.a.outgoing,children:[Object(j.jsx)("div",{className:d.a.message__date+" "+d.a.outgoing,children:e.date}),Object(j.jsxs)("div",{className:d.a.message__data+" "+d.a.outgoing,children:[Object(j.jsx)(m.b,{to:"/profile/"+e.loginUser,className:d.a.message__author+" "+d.a.outgoing,children:e.fullName}),Object(j.jsx)("div",{className:d.a.message__text+" "+d.a.outgoing,children:e.message})]}),Object(j.jsx)("div",{className:d.a.userPhoto+" "+d.a.outgoing,children:Object(j.jsx)(_.a,{avatar:e.userPhoto,userid:e.loginUser})})]}):Object(j.jsxs)("div",{className:d.a.message,children:[Object(j.jsx)("div",{className:d.a.userPhoto,children:Object(j.jsx)(_.a,{avatar:e.userPhoto,userid:e.checkedDialog})}),Object(j.jsxs)("div",{className:d.a.message__data,children:[Object(j.jsx)(m.b,{to:"/profile/"+e.checkedDialog,className:d.a.message__author+" "+d.a.outgoing,children:e.fullName}),Object(j.jsx)("div",{className:d.a.message__text,children:e.message})]}),Object(j.jsx)("div",{className:d.a.message__date,children:e.date})]})},h=a(314),f=a.n(h),x=a(2),O=["messageLibrary","getProfileUser","getMessageList"],N=[],p=function(e){var s,a=e.messageLibrary,r=e.getProfileUser,i=e.getMessageList,o=Object(t.a)(e,O),n=+o.match.params.interlocutor,c="";o.users.some((function(e){return e.userId===+n}))&&!N.some((function(e){return e===n}))&&(N.push(n),c=Object(l.a)(o.users).filter((function(e){return e.userId===+n}))[0],i(n,c)),Object(x.useEffect)((function(){return r(n)}),[r,n]);var g=(null===(s=a[n])||void 0===s?void 0:s.messagesData)||[];return Object(j.jsx)("div",{className:f.a.message__container,children:g.map((function(e){return Object(j.jsx)(b,{userPhoto:e.userPhoto,fullName:e.fullName,fromCurrentUser:e.fromCurrentUser,message:e.message,date:e.date,loginUser:o.loginUser,checkedDialog:o.interlocutorId},e.messageId)}))})},v=a(14),P=a(11),I={getMessageList:P.e,getProfileUser:P.f},k=Object(c.d)(Object(n.b)((function(e){return{users:e.usersPage.users,dialogs:e.dialogsPage.dialogs,loginUserId:Object(g.a)(e),messageLibrary:e.dialogsPage.messageLibrary}}),I),v.h)(p),D=a(315),M=a.n(D),U=a(316),L=a.n(U),T=function(e){return Object(j.jsx)(m.b,{exact:!0,to:"/dialogs/"+e.userId,onClick:e.setCheckedDialog,userid:e.userId,className:L.a.dialogsitem__title,activeClassName:L.a.checked,children:e.fullName})},C=function(e){return Object(j.jsx)("div",{className:M.a.dialogs__inner,children:e.dialogs.map((function(s){return Object(j.jsx)(T,{fullName:s.fullName,userId:s.userId,setCheckedDialog:e.setCheckedDialog},"Addressee"+s.userId)}))})},y=function(e){return e.dialogsPage.dialogValueText},A=function(e){return e.dialogsPage.dialogs},E={setCheckedDialog:P.n},J=Object(n.b)((function(e){return{dialogs:A(e)}}),E)(C),w=["pullDialogs"],V=function(e){var s=e.pullDialogs,a=Object(t.a)(e,w),r=a.match.params.interlocutor;return Object(x.useEffect)(s,[s]),Object(j.jsxs)("div",{className:"content__wrapper "+i.a.dialogs,children:[Object(j.jsx)(J,{}),r&&Object(j.jsxs)("div",{className:i.a.messages__inner,children:[Object(j.jsx)(k,{}),Object(j.jsx)(o.a,{placeholderText:"Enter your message..",getText:a.getText,setText:a.setDialogValueText,addBlock:function(){a.postMessage(r,a.getText)},userPhoto:a.userPhoto,fullName:a.fullName,userid:a.userId})]})]})},B=a(310),S={setDialogValueText:P.o,postMessage:P.h,pullDialogs:P.i};s.default=Object(c.d)(Object(n.b)((function(e){return{getText:y(e),userPhoto:Object(g.b)(e),userId:Object(g.a)(e),fullName:e.loginPage.loginUser.name}}),S),v.h,B.a)(V)}}]);
//# sourceMappingURL=3.b9522c29.chunk.js.map