(this["webpackJsonpit-social"]=this["webpackJsonpit-social"]||[]).push([[3],{310:function(e,s,a){"use strict";var t=a(1),r=(a(2),a(14)),i=a(8),c=a(15),o=a(0),n=function(e){return{isLoggedIn:Object(c.d)(e)}},d={};s.a=function(e){return Object(i.b)(n,d)((function(s){return s.isLoggedIn?Object(o.jsx)(e,Object(t.a)({},s)):Object(o.jsx)(r.a,{to:"/login"})}))}},312:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__etPsl",messages__inner:"Dialogs_messages__inner__1-dbS",addressee__wrapper:"Dialogs_addressee__wrapper__314Y3"}},313:function(e,s,a){e.exports={message:"Message_message__TUbjs",outgoing:"Message_outgoing__3e6a5",userPhoto:"Message_userPhoto__2IJ7h",message__data:"Message_message__data__F1XXE",message__author:"Message_message__author__1Qj2E",message__text:"Message_message__text__2SPNz",message__date:"Message_message__date__BILWO"}},314:function(e,s,a){e.exports={message__container:"MessageList_message__container__TjAMP"}},315:function(e,s,a){e.exports={addressee__inner:"AddresseeList_addressee__inner__1TnJQ",addressee__opener:"AddresseeList_addressee__opener__3ukLa",checked:"AddresseeList_checked__1BjuC",addressee__item:"AddresseeList_addressee__item__326M4",active:"AddresseeList_active__1ZQ7q"}},316:function(e,s,a){e.exports={dialogsitem__title:"Addressee_dialogsitem__title__3Onpr",checked:"Addressee_checked__1qkC7"}},323:function(e,s,a){"use strict";a.r(s);var t=a(30),r=a(312),i=a.n(r),c=a(140),o=a(8),n=a(9),d=a(15),l=a(25),_=a(313),g=a.n(_),u=a(73),m=a(16),j=a(0),b=function(e){return e.fromCurrentUser?Object(j.jsxs)("div",{className:g.a.message+" "+g.a.outgoing,children:[Object(j.jsx)("div",{className:g.a.message__date+" "+g.a.outgoing,children:e.date}),Object(j.jsxs)("div",{className:g.a.message__data+" "+g.a.outgoing,children:[Object(j.jsx)(m.b,{to:"/profile/"+e.loginUser,className:g.a.message__author+" "+g.a.outgoing,children:e.fullName}),Object(j.jsx)("div",{className:g.a.message__text+" "+g.a.outgoing,children:e.message})]}),Object(j.jsx)("div",{className:g.a.userPhoto+" "+g.a.outgoing,children:Object(j.jsx)(u.a,{avatar:e.userPhoto,userid:e.loginUser})})]}):Object(j.jsxs)("div",{className:g.a.message,children:[Object(j.jsx)("div",{className:g.a.userPhoto,children:Object(j.jsx)(u.a,{avatar:e.userPhoto,userid:e.checkedDialog})}),Object(j.jsxs)("div",{className:g.a.message__data,children:[Object(j.jsx)(m.b,{to:"/profile/"+e.checkedDialog,className:g.a.message__author+" "+g.a.outgoing,children:e.fullName}),Object(j.jsx)("div",{className:g.a.message__text,children:e.message})]}),Object(j.jsx)("div",{className:g.a.message__date,children:e.date})]})},h=a(314),f=a.n(h),O=a(2),x=["messageLibrary","getProfileUser","getMessageList"],p=[],v=function(e){var s,a=e.messageLibrary,r=e.getProfileUser,i=e.getMessageList,c=Object(t.a)(e,x),o=+c.match.params.interlocutor,n="";c.users.some((function(e){return e.userId===+o}))&&!p.some((function(e){return e===o}))&&(p.push(o),n=Object(l.a)(c.users).filter((function(e){return e.userId===+o}))[0],i(o,n)),Object(O.useEffect)((function(){return r(o)}),[r,o]);var d=(null===(s=a[o])||void 0===s?void 0:s.messagesData)||[];return Object(j.jsx)("div",{className:f.a.message__container,children:d.map((function(e){return Object(j.jsx)(b,{userPhoto:e.userPhoto,fullName:e.fullName,fromCurrentUser:e.fromCurrentUser,message:e.message,date:e.date,loginUser:c.loginUser,checkedDialog:c.interlocutorId},e.messageId)}))})},N=a(14),P=a(11),k={getMessageList:P.e,getProfileUser:P.f},L=Object(n.d)(Object(o.b)((function(e){return{users:e.usersPage.users,dialogs:e.dialogsPage.dialogs,loginUserId:Object(d.a)(e),messageLibrary:e.dialogsPage.messageLibrary}}),k),N.h)(v),D=a(17),I=a(41),M=a(315),C=a.n(M),U=a(316),T=a.n(U),A=function(e){return Object(j.jsx)(m.b,{exact:!0,to:"/dialogs/"+e.userId,onClick:e.setCheckedDialog,userid:e.userId,className:T.a.dialogsitem__title,activeClassName:T.a.checked,children:e.fullName})},w=a(54),y=a.n(w),E=function(e){var s=Object(O.useState)(!0),a=Object(I.a)(s,2),t=a[0],r=a[1],i=function(){r(!t)};return Object(j.jsxs)("div",{className:C.a.addressee__inner,children:[Object(j.jsx)("div",{className:y()(C.a.addressee__opener,Object(D.a)({},C.a.active,t)),onClick:i,children:"Addressee List"}),Object(j.jsx)("div",{className:y()(C.a.addressee__item,Object(D.a)({},C.a.active,t)),onClick:i,children:e.dialogs.map((function(s){return Object(j.jsx)(A,{fullName:s.fullName,userId:s.userId,setCheckedDialog:e.setCheckedDialog},"Addressee"+s.userId)}))})]})},J=function(e){return e.dialogsPage.dialogValueText},B=function(e){return e.dialogsPage.dialogs},Q={setCheckedDialog:P.n},S=Object(o.b)((function(e){return{dialogs:B(e)}}),Q)(E),V=["pullDialogs"],q=function(e){var s=e.pullDialogs,a=Object(t.a)(e,V),r=a.match.params.interlocutor;return Object(O.useEffect)(s,[s]),Object(j.jsxs)("div",{className:"content__wrapper "+i.a.dialogs,children:[Object(j.jsx)("div",{className:y()(i.a.addressee__wrapper),children:Object(j.jsx)(S,{})}),r&&Object(j.jsxs)("div",{className:i.a.messages__inner,children:[Object(j.jsx)(L,{}),Object(j.jsx)(c.a,{placeholderText:"Enter your message..",getText:a.getText,setText:a.setDialogValueText,addBlock:function(){a.postMessage(r,a.getText)},userPhoto:a.userPhoto,fullName:a.fullName,userid:a.userId})]})]})},X=a(310),z={setDialogValueText:P.o,postMessage:P.h,pullDialogs:P.i};s.default=Object(n.d)(Object(o.b)((function(e){return{getText:J(e),userPhoto:Object(d.b)(e),userId:Object(d.a)(e),fullName:e.loginPage.loginUser.name}}),z),N.h,X.a)(q)}}]);
//# sourceMappingURL=3.a692d80f.chunk.js.map